<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Tarefas</title>
    <link rel="stylesheet" type="text/css" href="../static/stylesheet.css" media="screen" />
</head>
<body>

    <div class="bloco">
        <div class="texto">

            <h1>Lista de Tarefas</h1>

            {% if cenario_atual %}
                <p><strong>Cenário atual:</strong> {{ cenario_atual.split('/')[-1] }}</p>
            {% endif %}

            <fieldset>
                <legend>Carregar Cenário</legend>
                <form action="/carregar-json" method="post">
                    <label for="cenario">Escolha um cenário para teste:</label>
                    <select name="cenario" id="cenario">
                        <option value="ordenavel">Cenário Ordenável</option>
                        <option value="com_ciclo">Cenário com Ciclo</option>
                    </select>
                    <button type="submit">Carregar</button>
                </form>
            </fieldset>

            <br>

            <fieldset>
                <legend>Criar Nova Tarefa</legend>
                <form action="/criar" method="post">
                    <label>ID da Tarefa:</label>
                    <input type="number" name="id" placeholder="ID da tarefa"><br><br>

                    <label>Nome da Tarefa:</label>
                    <input type="text" name="name" placeholder="Nome da Tarefa"><br><br>

                    <label>Descrição da Tarefa:</label>
                    <input type="text" name="description" placeholder="Informações adicionais para a tarefa"><br><br>

                    <label>Dependências (IDs separados por vírgula):</label>
                    <input type="text" name="dependencies" placeholder="Ex: 1, 3, 7"><br><br>

                    <button type="submit">Criar</button>
                </form>
            </fieldset>

            <br>

            <h2>Tarefas Cadastradas:</h2>
            <ul>
                {% for task in tasks %}
                    <li>
                        <strong>{{ task.name }}</strong> (ID: {{ task.id }}) — {{ task.description }}
                        {% if task.dependencies %}
                            <br>Depende de: {{ task.dependencies | join(', ') }}
                        {% endif %}
                    </li>
                {% else %}
                    <li>Nenhuma tarefa cadastrada.</li>
                {% endfor %}
            </ul>

            <h2>Ordenar Tarefas</h2>
            <a href="/ordenar"><button>Ver Tarefas Ordenadas</button></a>

        </div>
    </div>

</body>
</html>
